<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Free online PDF editor - Merge multiple PDFs into one or split PDF files by extracting pages. 100% client-side, secure and private.">
    <title>PDF Editor - Merge & Split PDFs Online</title>

    <!-- Resource hints for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://unpkg.com">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/png" href="images/logo_web.png">
</head>

<body>
    <div id="particles-container"></div>
    <div class="gradient-sphere sphere-1"></div>
    <div class="gradient-sphere sphere-2"></div>
    <!-- Navbar -->
    <nav class="navbar">
        <a href="index.html" class="navbar-brand">
            <img src="images/logo_web.png" alt="PDF Editor Logo" class="navbar-logo"> <span>PDF Editor</span>
        </a>
        <button class="navbar-toggle" id="navbarToggle" aria-label="Toggle navigation">‚ò∞</button>
        <ul class="navbar-menu" id="navbarMenu">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="help.html">Help</a></li>
        </ul>
    </nav>

    <div class="main-content">
        <div class="container">
            <h1>PDF Editor</h1>
            <p class="subtitle">Merge or split PDF files with ease</p>

            <!-- Tabs -->
            <div class="tabs" role="tablist">
                <div class="tab active" data-tab="merge" role="tab" tabindex="0" aria-selected="true">Merge PDFs</div>
                <div class="tab" data-tab="split" role="tab" tabindex="0" aria-selected="false">Split PDF</div>
            </div>

            <!-- Merge PDF Tab Content -->
            <div class="tab-content active" id="merge-tab" role="tabpanel">
                <p class="subtitle">Select multiple PDF files to merge them into a single document</p>

                <div class="upload-container" id="mergeUploadContainer">
                    <div class="upload-icon">üìÅ</div>
                    <p class="upload-text">Drag & drop PDF files here or click to browse</p>
                    <p class="upload-hint">Only PDF files are accepted</p>
                    <input type="file" id="mergeFileInput" accept=".pdf" multiple
                        aria-label="Select PDF files to merge">
                </div>

                <div class="selected-files hidden" id="mergeSelectedFiles">
                    <!-- Selected files will appear here dynamically -->
                </div>

                <div class="error-message" id="mergeErrorMessage" role="alert" aria-live="polite"></div>

                <button class="submit-btn" id="mergeSubmitBtn" disabled>Merge PDFs</button>
            </div>

            <!-- Split PDF Tab Content -->
            <div class="tab-content" id="split-tab" role="tabpanel">
                <p class="subtitle">Upload a PDF file and extract specific pages or page ranges</p>

                <div class="upload-container" id="splitUploadContainer">
                    <div class="upload-icon">üìÑ</div>
                    <p class="upload-text">Drag & drop a PDF file here or click to browse</p>
                    <p class="upload-hint">Only PDF files are accepted</p>
                    <input type="file" id="splitFileInput" accept=".pdf" aria-label="Select PDF file to split">
                </div>

                <div class="selected-file hidden" id="splitSelectedFile">
                    <!-- Selected file info will appear here -->
                </div>

                <div class="pdf-info hidden" id="pdfInfo">
                    <p>Total pages: <span id="totalPages">0</span></p>
                </div>

                <!-- Page Preview Section -->
                <div class="page-preview-section hidden" id="pagePreviewSection">
                    <div class="preview-header">
                        <h3>Page Previews</h3>
                        <div class="preview-actions">
                            <button type="button" class="preview-action-btn" id="selectAllPagesBtn">Select All</button>
                            <button type="button" class="preview-action-btn" id="deselectAllPagesBtn">Deselect All</button>
                        </div>
                    </div>
                    <p class="preview-hint">Click to select pages ‚Ä¢ Double-click to preview</p>
                    <div class="page-thumbnails" id="pageThumbnails">
                        <!-- Thumbnails will be generated dynamically -->
                    </div>
                </div>

                <!-- Full Page Preview Modal -->
                <div class="preview-modal hidden" id="previewModal">
                    <div class="preview-modal-content">
                        <div class="preview-modal-header">
                            <span class="preview-page-info" id="previewPageInfo">Page 1</span>
                            <button class="preview-close-btn" id="previewCloseBtn" aria-label="Close preview">&times;</button>
                        </div>
                        <div class="preview-modal-body">
                            <button class="preview-nav-btn prev" id="previewPrevBtn" aria-label="Previous page">&#8249;</button>
                            <canvas id="previewCanvas"></canvas>
                            <button class="preview-nav-btn next" id="previewNextBtn" aria-label="Next page">&#8250;</button>
                        </div>
                        <div class="preview-modal-footer">
                            <button class="preview-zoom-btn" id="zoomOutBtn" aria-label="Zoom out">‚àí</button>
                            <span class="zoom-level" id="zoomLevel">100%</span>
                            <button class="preview-zoom-btn" id="zoomInBtn" aria-label="Zoom in">+</button>
                        </div>
                    </div>
                </div>

                <div class="extraction-options hidden" id="pageOptionsContainer">
                    <h3>Page Extraction Options</h3>

                    <div class="radio-options">
                        <label class="radio-option active" id="customRangeOption">
                            <input type="radio" name="extractionType" value="customRange" checked>
                            <div class="radio-option-content">
                                <div class="radio-option-title">Custom Page Selection</div>
                                <div class="radio-option-description">Extract specific pages or page ranges</div>

                                <div id="customRangeContent">
                                    <div class="form-group" style="margin-top: 10px;">
                                        <input type="text" class="form-control" id="pages"
                                            placeholder="e.g., 1,3,5-7,10-15" aria-label="Enter page numbers or ranges">
                                        <p class="form-instructions">
                                            <strong>Page Range Examples:</strong><br>
                                            - Single pages: 1,3,5<br>
                                            - Page ranges: 1-5 (extracts pages 1,2,3,4,5)<br>
                                            - Combine both: 1,3,5-7,10-15
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </label>

                        <label class="radio-option" id="allPagesOption">
                            <input type="radio" name="extractionType" value="allPages">
                            <div class="radio-option-content">
                                <div class="radio-option-title">Extract All Pages</div>
                                <div class="radio-option-description">Extract all pages as separate PDF files</div>
                                <input type="hidden" id="extractAll" value="false">
                            </div>
                        </label>
                    </div>
                </div>

                <div class="error-message" id="splitErrorMessage" role="alert" aria-live="polite"></div>

                <button class="submit-btn" id="splitSubmitBtn" disabled>Split PDF</button>
            </div>
        </div>
    </div>

    <!-- Loading overlay with progress -->
    <div class="loading-overlay hidden" id="loadingOverlay">
        <div class="loader"></div>
        <p id="loadingText">Processing your files...</p>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <p class="progress-text" id="progressText"></p>
    </div>

    <!-- Scripts - Core libraries -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://unpkg.com/downloadjs@1.4.7/download.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        // Set the worker source for pdf.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
    <script src="js/app.js"></script>
</body>

</html>